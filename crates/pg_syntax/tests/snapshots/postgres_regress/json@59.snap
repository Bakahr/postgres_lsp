---
source: crates/pg_syntax/tests/pg_syntax_tests.rs
description: "SELECT row_to_json(q,true)\nFROM (SELECT $$a$$ || x AS b,\n         y AS c,\n         ARRAY[ROW(x.*,ARRAY[1,2,3]),\n               ROW(y.*,ARRAY[4,5,6])] AS z\n      FROM generate_series(1,2) x,\n           generate_series(4,5) y) q;"
---
SelectStmt@0..227
  Select@0..6 "SELECT"
  Whitespace@6..7 " "
  ResTarget@7..25
    FuncCall@7..25
      Ident@7..18 "row_to_json"
      Ascii40@18..19 "("
      ColumnRef@19..20
        Ident@19..20 "q"
      Ascii44@20..21 ","
      AConst@21..25
        TrueP@21..25 "true"
  Ascii41@25..26 ")"
  Newline@26..27 "\n"
  From@27..31 "FROM"
  Whitespace@31..32 " "
  Ascii40@32..33 "("
  RangeSubselect@33..226
    SelectStmt@33..223
      Select@33..39 "SELECT"
      Whitespace@39..40 " "
      ResTarget@40..55
        AExpr@40..50
          AConst@40..45
            Sconst@40..45 "$$a$$"
          Whitespace@45..46 " "
          Op@46..48 "||"
          Whitespace@48..49 " "
          ColumnRef@49..50
            Ident@49..50 "x"
        Whitespace@50..51 " "
        As@51..53 "AS"
        Whitespace@53..54 " "
        Ident@54..55 "b"
      Ascii44@55..56 ","
      Newline@56..57 "\n"
      Whitespace@57..66 "         "
      ResTarget@66..72
        ColumnRef@66..67
          Ident@66..67 "y"
        Whitespace@67..68 " "
        As@68..70 "AS"
        Whitespace@70..71 " "
        Ident@71..72 "c"
      Ascii44@72..73 ","
      Newline@73..74 "\n"
      Whitespace@74..83 "         "
      ResTarget@83..154
        AArrayExpr@83..146
          Array@83..88 "ARRAY"
          Ascii91@88..89 "["
          RowExpr@89..108
            Row@89..92 "ROW"
            Ascii40@92..93 "("
            ColumnRef@93..96
              Ident@93..94 "x"
              Ascii46@94..95 "."
              AStar@95..96
                Ascii42@95..96 "*"
            Ascii44@96..97 ","
            AArrayExpr@97..108
              Array@97..102 "ARRAY"
              Ascii91@102..103 "["
              AConst@103..104
                Iconst@103..104 "1"
              Ascii44@104..105 ","
              AConst@105..106
                Iconst@105..106 "2"
              Ascii44@106..107 ","
              AConst@107..108
                Iconst@107..108 "3"
          Ascii93@108..109 "]"
          Ascii41@109..110 ")"
          Ascii44@110..111 ","
          Newline@111..112 "\n"
          Whitespace@112..127 "               "
          RowExpr@127..146
            Row@127..130 "ROW"
            Ascii40@130..131 "("
            ColumnRef@131..134
              Ident@131..132 "y"
              Ascii46@132..133 "."
              AStar@133..134
                Ascii42@133..134 "*"
            Ascii44@134..135 ","
            AArrayExpr@135..146
              Array@135..140 "ARRAY"
              Ascii91@140..141 "["
              AConst@141..142
                Iconst@141..142 "4"
              Ascii44@142..143 ","
              AConst@143..144
                Iconst@143..144 "5"
              Ascii44@144..145 ","
              AConst@145..146
                Iconst@145..146 "6"
        Ascii93@146..147 "]"
        Ascii41@147..148 ")"
        Ascii93@148..149 "]"
        Whitespace@149..150 " "
        As@150..152 "AS"
        Whitespace@152..153 " "
        Ident@153..154 "z"
      Newline@154..155 "\n"
      Whitespace@155..161 "      "
      From@161..165 "FROM"
      Whitespace@165..166 " "
      RangeFunction@166..188
        List@166..185
          FuncCall@166..185
            Ident@166..181 "generate_series"
            Ascii40@181..182 "("
            AConst@182..183
              Iconst@182..183 "1"
            Ascii44@183..184 ","
            AConst@184..185
              Iconst@184..185 "2"
        Ascii41@185..186 ")"
        Whitespace@186..187 " "
        Alias@187..188
          Ident@187..188 "x"
      Ascii44@188..189 ","
      Newline@189..190 "\n"
      Whitespace@190..201 "           "
      RangeFunction@201..223
        List@201..220
          FuncCall@201..220
            Ident@201..216 "generate_series"
            Ascii40@216..217 "("
            AConst@217..218
              Iconst@217..218 "4"
            Ascii44@218..219 ","
            AConst@219..220
              Iconst@219..220 "5"
        Ascii41@220..221 ")"
        Whitespace@221..222 " "
        Alias@222..223
          Ident@222..223 "y"
    Ascii41@223..224 ")"
    Whitespace@224..225 " "
    Alias@225..226
      Ident@225..226 "q"
  Ascii59@226..227 ";"

