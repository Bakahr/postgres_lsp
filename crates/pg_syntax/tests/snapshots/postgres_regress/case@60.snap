---
source: crates/pg_syntax/tests/pg_syntax_tests.rs
description: "SELECT\n  CASE 'foo'::text\n    WHEN 'foo' THEN ARRAY['a', 'b', 'c', 'd'] || enum_range(NULL::casetestenum)::text[]\n    ELSE ARRAY['x', 'y']\n    END;"
---
SelectStmt@0..147
  Select@0..6 "SELECT"
  Newline@6..7 "\n"
  Whitespace@7..9 "  "
  ResTarget@9..146
    CaseExpr@9..146
      Case@9..13 "CASE"
      Whitespace@13..14 " "
      TypeCast@14..25
        AConst@14..19
          Sconst@14..19 "'foo'"
        Typecast@19..21 "::"
        TypeName@21..25
          TextP@21..25 "text"
      Newline@25..26 "\n"
      Whitespace@26..30 "    "
      CaseWhen@30..111
        When@30..34 "WHEN"
        Whitespace@34..35 " "
        AConst@35..40
          Sconst@35..40 "'foo'"
        Whitespace@40..41 " "
        Then@41..45 "THEN"
        Whitespace@45..46 " "
        AExpr@46..111
          AArrayExpr@46..70
            Array@46..51 "ARRAY"
            Ascii91@51..52 "["
            AConst@52..55
              Sconst@52..55 "'a'"
            Ascii44@55..56 ","
            Whitespace@56..57 " "
            AConst@57..60
              Sconst@57..60 "'b'"
            Ascii44@60..61 ","
            Whitespace@61..62 " "
            AConst@62..65
              Sconst@62..65 "'c'"
            Ascii44@65..66 ","
            Whitespace@66..67 " "
            AConst@67..70
              Sconst@67..70 "'d'"
          Ascii93@70..71 "]"
          Whitespace@71..72 " "
          Op@72..74 "||"
          Whitespace@74..75 " "
          TypeCast@75..111
            FuncCall@75..104
              Ident@75..85 "enum_range"
              Ascii40@85..86 "("
              TypeCast@86..104
                AConst@86..90
                  NullP@86..90 "NULL"
                Typecast@90..92 "::"
                TypeName@92..104
                  Ident@92..104 "casetestenum"
            Ascii41@104..105 ")"
            Typecast@105..107 "::"
            TypeName@107..111
              TextP@107..111 "text"
      Ascii91@111..112 "["
      Ascii93@112..113 "]"
      Newline@113..114 "\n"
      Whitespace@114..118 "    "
      Else@118..122 "ELSE"
      Whitespace@122..123 " "
      AArrayExpr@123..137
        Array@123..128 "ARRAY"
        Ascii91@128..129 "["
        AConst@129..132
          Sconst@129..132 "'x'"
        Ascii44@132..133 ","
        Whitespace@133..134 " "
        AConst@134..137
          Sconst@134..137 "'y'"
      Ascii93@137..138 "]"
      Newline@138..139 "\n"
      Whitespace@139..143 "    "
      EndP@143..146 "END"
  Ascii59@146..147 ";"

