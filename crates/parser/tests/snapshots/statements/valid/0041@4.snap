---
source: crates/parser/tests/statement_parser_test.rs
description: "\nCREATE SCHEMA hollywood CREATE TABLE films (title text, release date, awards text[]) CREATE VIEW winners AS SELECT title, release FROM films WHERE awards IS NOT NULL;"
---
Parse {
    cst: SourceFile@0..165
      Newline@0..1 "\n"
      CreateSchemaStmt@1..24
        Create@1..7 "CREATE"
        Whitespace@7..8 " "
        Schema@8..14 "SCHEMA"
        Whitespace@14..15 " "
        Ident@15..24 "hollywood"
      CreateStmt@24..84
        Create@24..30 "CREATE"
        Whitespace@30..31 " "
        Table@31..36 "TABLE"
        Whitespace@36..37 " "
        RangeVar@37..42
          Ident@37..42 "films"
        Whitespace@42..43 " "
        Ascii40@43..44 "("
        ColumnDef@44..54
          Ident@44..49 "title"
          Whitespace@49..50 " "
          TypeName@50..54
            TextP@50..54 "text"
        Ascii44@54..55 ","
        Whitespace@55..56 " "
        ColumnDef@56..68
          Release@56..63 "release"
          Whitespace@63..64 " "
          TypeName@64..68
            Ident@64..68 "date"
        Ascii44@68..69 ","
        Whitespace@69..70 " "
        ColumnDef@70..81
          Ident@70..76 "awards"
          Whitespace@76..77 " "
          TypeName@77..81
            TextP@77..81 "text"
        Ascii91@81..82 "["
        Ascii93@82..83 "]"
        Ascii41@83..84 ")"
      ViewStmt@84..165
        Create@84..90 "CREATE"
        Whitespace@90..91 " "
        View@91..95 "VIEW"
        Whitespace@95..96 " "
        RangeVar@96..103
          Ident@96..103 "winners"
        Whitespace@103..104 " "
        As@104..106 "AS"
        Whitespace@106..107 " "
        SelectStmt@107..164
          Select@107..113 "SELECT"
          Whitespace@113..114 " "
          ResTarget@114..119
            ColumnRef@114..119
              Ident@114..119 "title"
          Ascii44@119..120 ","
          Whitespace@120..121 " "
          ResTarget@121..128
            ColumnRef@121..128
              Release@121..128 "release"
          Whitespace@128..129 " "
          From@129..133 "FROM"
          Whitespace@133..134 " "
          RangeVar@134..139
            Ident@134..139 "films"
          Whitespace@139..140 " "
          Where@140..145 "WHERE"
          Whitespace@145..146 " "
          NullTest@146..164
            ColumnRef@146..152
              Ident@146..152 "awards"
            Whitespace@152..153 " "
            Is@153..155 "IS"
            Whitespace@155..156 " "
            Not@156..159 "NOT"
            Whitespace@159..160 " "
            NullP@160..164 "NULL"
        Ascii59@164..165 ";"
    ,
    errors: [
        SyntaxError(
            "Expected Ascii59, found Whitespace",
            24..24,
        ),
        SyntaxError(
            "Expected Ascii59, found Whitespace",
            85..85,
        ),
    ],
    stmts: [
        RawStmt {
            stmt: CreateSchemaStmt(
                CreateSchemaStmt {
                    schemaname: "hollywood",
                    authrole: None,
                    schema_elts: [],
                    if_not_exists: false,
                },
            ),
            range: 0..24,
        },
        RawStmt {
            stmt: CreateStmt(
                CreateStmt {
                    relation: Some(
                        RangeVar {
                            catalogname: "",
                            schemaname: "",
                            relname: "films",
                            inh: true,
                            relpersistence: "p",
                            alias: None,
                            location: 13,
                        },
                    ),
                    table_elts: [
                        Node {
                            node: Some(
                                ColumnDef(
                                    ColumnDef {
                                        colname: "title",
                                        type_name: Some(
                                            TypeName {
                                                names: [
                                                    Node {
                                                        node: Some(
                                                            String(
                                                                String {
                                                                    sval: "text",
                                                                },
                                                            ),
                                                        ),
                                                    },
                                                ],
                                                type_oid: 0,
                                                setof: false,
                                                pct_type: false,
                                                typmods: [],
                                                typemod: -1,
                                                array_bounds: [],
                                                location: 26,
                                            },
                                        ),
                                        compression: "",
                                        inhcount: 0,
                                        is_local: true,
                                        is_not_null: false,
                                        is_from_type: false,
                                        storage: "",
                                        raw_default: None,
                                        cooked_default: None,
                                        identity: "",
                                        identity_sequence: None,
                                        generated: "",
                                        coll_clause: None,
                                        coll_oid: 0,
                                        constraints: [],
                                        fdwoptions: [],
                                        location: 20,
                                    },
                                ),
                            ),
                        },
                        Node {
                            node: Some(
                                ColumnDef(
                                    ColumnDef {
                                        colname: "release",
                                        type_name: Some(
                                            TypeName {
                                                names: [
                                                    Node {
                                                        node: Some(
                                                            String(
                                                                String {
                                                                    sval: "date",
                                                                },
                                                            ),
                                                        ),
                                                    },
                                                ],
                                                type_oid: 0,
                                                setof: false,
                                                pct_type: false,
                                                typmods: [],
                                                typemod: -1,
                                                array_bounds: [],
                                                location: 40,
                                            },
                                        ),
                                        compression: "",
                                        inhcount: 0,
                                        is_local: true,
                                        is_not_null: false,
                                        is_from_type: false,
                                        storage: "",
                                        raw_default: None,
                                        cooked_default: None,
                                        identity: "",
                                        identity_sequence: None,
                                        generated: "",
                                        coll_clause: None,
                                        coll_oid: 0,
                                        constraints: [],
                                        fdwoptions: [],
                                        location: 32,
                                    },
                                ),
                            ),
                        },
                        Node {
                            node: Some(
                                ColumnDef(
                                    ColumnDef {
                                        colname: "awards",
                                        type_name: Some(
                                            TypeName {
                                                names: [
                                                    Node {
                                                        node: Some(
                                                            String(
                                                                String {
                                                                    sval: "text",
                                                                },
                                                            ),
                                                        ),
                                                    },
                                                ],
                                                type_oid: 0,
                                                setof: false,
                                                pct_type: false,
                                                typmods: [],
                                                typemod: -1,
                                                array_bounds: [
                                                    Node {
                                                        node: Some(
                                                            Integer(
                                                                Integer {
                                                                    ival: -1,
                                                                },
                                                            ),
                                                        ),
                                                    },
                                                ],
                                                location: 53,
                                            },
                                        ),
                                        compression: "",
                                        inhcount: 0,
                                        is_local: true,
                                        is_not_null: false,
                                        is_from_type: false,
                                        storage: "",
                                        raw_default: None,
                                        cooked_default: None,
                                        identity: "",
                                        identity_sequence: None,
                                        generated: "",
                                        coll_clause: None,
                                        coll_oid: 0,
                                        constraints: [],
                                        fdwoptions: [],
                                        location: 46,
                                    },
                                ),
                            ),
                        },
                    ],
                    inh_relations: [],
                    partbound: None,
                    partspec: None,
                    of_typename: None,
                    constraints: [],
                    options: [],
                    oncommit: OncommitNoop,
                    tablespacename: "",
                    access_method: "",
                    if_not_exists: false,
                },
            ),
            range: 24..85,
        },
        RawStmt {
            stmt: ViewStmt(
                ViewStmt {
                    view: Some(
                        RangeVar {
                            catalogname: "",
                            schemaname: "",
                            relname: "winners",
                            inh: true,
                            relpersistence: "p",
                            alias: None,
                            location: 12,
                        },
                    ),
                    aliases: [],
                    query: Some(
                        Node {
                            node: Some(
                                SelectStmt(
                                    SelectStmt {
                                        distinct_clause: [],
                                        into_clause: None,
                                        target_list: [
                                            Node {
                                                node: Some(
                                                    ResTarget(
                                                        ResTarget {
                                                            name: "",
                                                            indirection: [],
                                                            val: Some(
                                                                Node {
                                                                    node: Some(
                                                                        ColumnRef(
                                                                            ColumnRef {
                                                                                fields: [
                                                                                    Node {
                                                                                        node: Some(
                                                                                            String(
                                                                                                String {
                                                                                                    sval: "title",
                                                                                                },
                                                                                            ),
                                                                                        ),
                                                                                    },
                                                                                ],
                                                                                location: 30,
                                                                            },
                                                                        ),
                                                                    ),
                                                                },
                                                            ),
                                                            location: 30,
                                                        },
                                                    ),
                                                ),
                                            },
                                            Node {
                                                node: Some(
                                                    ResTarget(
                                                        ResTarget {
                                                            name: "",
                                                            indirection: [],
                                                            val: Some(
                                                                Node {
                                                                    node: Some(
                                                                        ColumnRef(
                                                                            ColumnRef {
                                                                                fields: [
                                                                                    Node {
                                                                                        node: Some(
                                                                                            String(
                                                                                                String {
                                                                                                    sval: "release",
                                                                                                },
                                                                                            ),
                                                                                        ),
                                                                                    },
                                                                                ],
                                                                                location: 37,
                                                                            },
                                                                        ),
                                                                    ),
                                                                },
                                                            ),
                                                            location: 37,
                                                        },
                                                    ),
                                                ),
                                            },
                                        ],
                                        from_clause: [
                                            Node {
                                                node: Some(
                                                    RangeVar(
                                                        RangeVar {
                                                            catalogname: "",
                                                            schemaname: "",
                                                            relname: "films",
                                                            inh: true,
                                                            relpersistence: "p",
                                                            alias: None,
                                                            location: 50,
                                                        },
                                                    ),
                                                ),
                                            },
                                        ],
                                        where_clause: Some(
                                            Node {
                                                node: Some(
                                                    NullTest(
                                                        NullTest {
                                                            xpr: None,
                                                            arg: Some(
                                                                Node {
                                                                    node: Some(
                                                                        ColumnRef(
                                                                            ColumnRef {
                                                                                fields: [
                                                                                    Node {
                                                                                        node: Some(
                                                                                            String(
                                                                                                String {
                                                                                                    sval: "awards",
                                                                                                },
                                                                                            ),
                                                                                        ),
                                                                                    },
                                                                                ],
                                                                                location: 62,
                                                                            },
                                                                        ),
                                                                    ),
                                                                },
                                                            ),
                                                            nulltesttype: IsNotNull,
                                                            argisrow: false,
                                                            location: 69,
                                                        },
                                                    ),
                                                ),
                                            },
                                        ),
                                        group_clause: [],
                                        group_distinct: false,
                                        having_clause: None,
                                        window_clause: [],
                                        values_lists: [],
                                        sort_clause: [],
                                        limit_offset: None,
                                        limit_count: None,
                                        limit_option: Default,
                                        locking_clause: [],
                                        with_clause: None,
                                        op: SetopNone,
                                        all: false,
                                        larg: None,
                                        rarg: None,
                                    },
                                ),
                            ),
                        },
                    ),
                    replace: false,
                    options: [],
                    with_check_option: NoCheckOption,
                },
            ),
            range: 85..166,
        },
    ],
}
